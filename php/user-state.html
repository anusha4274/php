<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User State Management in PHP</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="background">
        <header>
            <h1>User State Management in PHP</h1>
            <p>Learn how to manage user state with cookies and sessions in PHP.</p>
        </header>
        
        <section>
            <h2>Introduction to Cookies</h2>
            <p>Cookies are small pieces of data stored on the user's computer by the web browser while browsing a website. They are used to remember information about the user between sessions.</p>

            <h2>Setting Time in a Cookie with PHP</h2>
            <p>To set a cookie, you can use the <code>setcookie()</code> function. You can specify the expiration time in seconds:</p>
            <pre>
                &lt;?php
                setcookie("username", "JohnDoe", time() + (86400 * 30)); // 30 days
                ?&gt;
            </pre>

            <h2>Deleting a Cookie</h2>
            <p>To delete a cookie, set its expiration time to a past date:</p>
            <pre>
                &lt;?php
                setcookie("username", "", time() - 3600); // Delete cookie
                ?&gt;
            </pre>

            <h2>Creating a Session Cookie</h2>
            <p>A session cookie is temporary and is deleted when the user closes the browser. To create a session cookie, simply omit the expiration time:</p>
            <pre>
                &lt;?php
                setcookie("sessionUser", "JaneDoe"); // Session cookie
                ?&gt;
            </pre>

            <h2>Introduction to Sessions</h2>
            <p>Sessions allow you to store data on the server for each user. Unlike cookies, session data is not stored on the user's computer.</p>

            <h2>Starting a Session</h2>
            <p>Use <code>session_start()</code> to begin a session:</p>
            <pre>
                &lt;?php
                session_start();
                ?&gt;
            </pre>

            <h2>Registering Session Variables</h2>
            <p>After starting a session, you can register session variables:</p>
            <pre>
                &lt;?php
                $_SESSION["user"] = "JohnDoe";
                ?&gt;
            </pre>

            <h2>Working with Session Variables</h2>
            <p>To retrieve session variables, simply access them like this:</p>
            <pre>
                &lt;?php
                echo $_SESSION["user"]; // Outputs: JohnDoe
                ?&gt;
            </pre>

            <h2>Destroying a Session</h2>
            <p>To destroy a session, you can use <code>session_destroy()</code>. Make sure to unset all session variables:</p>
            <pre>
                &lt;?php
                session_start();
                session_unset(); // Unset all session variables
                session_destroy(); // Destroy the session
                ?&gt;
            </pre>

            <h2>Passing Session IDs</h2>
            <p>Session IDs can be passed in URLs or as hidden form fields. Use <code>session_id()</code> to get the current session ID:</p>
            <pre>
                &lt;?php
                echo session_id(); // Outputs the current session ID
                ?&gt;
            </pre>

            <h2>Encoding and Decoding Session Variables</h2>
            <p>You can encode session variables to store complex data types:</p>
            <pre>
                &lt;?php
                $_SESSION["data"] = serialize($dataArray); // Encode
                $dataArray = unserialize($_SESSION["data"]); // Decode
                ?&gt;
            </pre>

            <h2>Increasing Session Expiry Time</h2>
            <p>To increase the session expiry time, use <code>session_set_cookie_params()</code>:</p>
            <pre>
                &lt;?php
                session_set_cookie_params(86400); // 1 day
                session_start();
                ?&gt;
            </pre>

            <h2>Working of Sessions Without Cookies</h2>
            <p>You can configure sessions to work without cookies by using URL-based session IDs:</p>
            <pre>
                &lt;?php
                session_start();
                echo "Your session ID is: " . session_id();
                ?&gt;
            </pre>
        </section>
        
        <footer>
            <p>&copy; 2024 PHP Learning Hub</p>
        </footer>
    </div>
</body>
</html>
